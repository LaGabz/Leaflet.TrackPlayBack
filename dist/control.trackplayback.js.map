{"version":3,"file":"control.trackplayback.js","mappings":"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","sources":["webpack://leaflet-plugin-trackplayback/webpack/universalModuleDefinition","webpack://leaflet-plugin-trackplayback/external umd {\"root\":\"L\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\",\"amd\":\"leaflet\"}","webpack://leaflet-plugin-trackplayback/webpack/bootstrap","webpack://leaflet-plugin-trackplayback/webpack/runtime/compat get default export","webpack://leaflet-plugin-trackplayback/webpack/runtime/define property getters","webpack://leaflet-plugin-trackplayback/webpack/runtime/hasOwnProperty shorthand","webpack://leaflet-plugin-trackplayback/webpack/runtime/make namespace object","webpack://leaflet-plugin-trackplayback/./src/control.trackplayback/control.playback.js","webpack://leaflet-plugin-trackplayback/./src/control.trackplayback/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"leaflet\")) : factory(root[\"L\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE__953__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__953__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import L from 'leaflet'\r\n\r\nexport const TrackPlayBackControl = L.Control.extend({\r\n\r\n  options: {\r\n    position: 'topright',\r\n    showOptions: true,\r\n    showInfo: true,\r\n    showSlider: true,\r\n    autoPlay: false\r\n  },\r\n\r\n  initialize: function (trackplayback, options) {\r\n    L.Control.prototype.initialize.call(this, options)\r\n    this.trackPlayBack = trackplayback\r\n    this.trackPlayBack.on('tick', this._tickCallback, this)\r\n  },\r\n\r\n  onAdd: function (map) {\r\n    this._initContainer()\r\n    return this._container\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    this.trackPlayBack.dispose()\r\n    this.trackPlayBack.off('tick', this._tickCallback, this)\r\n  },\r\n\r\n  /**\r\n   * 根据unix时间戳(单位:秒)获取时间字符串\r\n   * @param  {[int]} time     [时间戳（精确到秒）]\r\n   * @param  {[string]} accuracy [精度，日：d, 小时：h,分钟：m,秒：s]\r\n   * @return {[string]}          [yy:mm:dd hh:mm:ss]\r\n   */\r\n  getTimeStrFromUnix: function (time, accuracy = 's') {\r\n    time = parseInt(time * 1000)\r\n    let newDate = new Date(time)\r\n    let year = newDate.getFullYear()\r\n    let month = (newDate.getMonth() + 1) < 10 ? '0' + (newDate.getMonth() + 1) : newDate.getMonth() + 1\r\n    let day = newDate.getDate() < 10 ? '0' + newDate.getDate() : newDate.getDate()\r\n    let hours = newDate.getHours() < 10 ? '0' + newDate.getHours() : newDate.getHours()\r\n    let minuts = newDate.getMinutes() < 10 ? '0' + newDate.getMinutes() : newDate.getMinutes()\r\n    let seconds = newDate.getSeconds() < 10 ? '0' + newDate.getSeconds() : newDate.getSeconds()\r\n    let ret\r\n    if (accuracy === 'd') {\r\n      ret = year + '-' + month + '-' + day\r\n    } else if (accuracy === 'h') {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours\r\n    } else if (accuracy === 'm') {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts\r\n    } else {\r\n      ret = year + '-' + month + '-' + day + ' ' + hours + ':' + minuts + ':' + seconds\r\n    }\r\n    return ret\r\n  },\r\n\r\n  _initContainer: function () {\r\n    var className = 'leaflet-control-playback'\r\n    this._container = L.DomUtil.create('div', className)\r\n    L.DomEvent.disableClickPropagation(this._container)\r\n\r\n    this._optionsContainer = this._createContainer('optionsContainer', this._container)\r\n    this._buttonContainer = this._createContainer('buttonContainer', this._container)\r\n    this._infoContainer = this._createContainer('infoContainer', this._container)\r\n    this._sliderContainer = this._createContainer('sliderContainer', this._container)\r\n\r\n    this._pointCbx = this._createCheckbox('show trackPoint', 'show-trackpoint', this._optionsContainer, this._showTrackPoint)\r\n    this._lineCbx = this._createCheckbox('show trackLine', 'show-trackLine', this._optionsContainer, this._showTrackLine)\r\n\r\n    this._playBtn = this._createButton('play', 'btn-stop', this._buttonContainer, this._play)\r\n    this._restartBtn = this._createButton('replay', 'btn-restart', this._buttonContainer, this._restart)\r\n    this._slowSpeedBtn = this._createButton('slow', 'btn-slow', this._buttonContainer, this._slow)\r\n    this._quickSpeedBtn = this._createButton('quick', 'btn-quick', this._buttonContainer, this._quick)\r\n    this._closeBtn = this._createButton('close', 'btn-close', this._buttonContainer, this._close)\r\n\r\n    this._infoStartTime = this._createInfo('startTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getStartTime()), 'info-start-time', this._infoContainer)\r\n    this._infoEndTime = this._createInfo('endTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getEndTime()), 'info-end-time', this._infoContainer)\r\n    this._infoCurTime = this._createInfo('curTime: ', this.getTimeStrFromUnix(this.trackPlayBack.getCurTime()), 'info-cur-time', this._infoContainer)\r\n    this._infoSpeedRatio = this._createInfo('speed: ', `X${this.trackPlayBack.getSpeed()}`, 'info-speed-ratio', this._infoContainer)\r\n\r\n    this._slider = this._createSlider('time-slider', this._sliderContainer, this._scrollchange)\r\n\r\n    return this._container\r\n  },\r\n\r\n  _createContainer: function (className, container) {\r\n    return L.DomUtil.create('div', className, container)\r\n  },\r\n\r\n  _createCheckbox: function (labelName, className, container, fn) {\r\n    let divEle = L.DomUtil.create('div', className + ' trackplayback-checkbox', container)\r\n\r\n    let inputEle = L.DomUtil.create('input', 'trackplayback-input', divEle)\r\n    let inputId = `trackplayback-input-${L.Util.stamp(inputEle)}`\r\n    inputEle.setAttribute('type', 'checkbox')\r\n    inputEle.setAttribute('id', inputId)\r\n\r\n    let labelEle = L.DomUtil.create('label', 'trackplayback-label', divEle)\r\n    labelEle.setAttribute('for', inputId)\r\n    labelEle.innerHTML = labelName\r\n\r\n    L.DomEvent.on(inputEle, 'change', fn, this)\r\n\r\n    return divEle\r\n  },\r\n\r\n  _createButton: function (title, className, container, fn) {\r\n    let link = L.DomUtil.create('a', className, container)\r\n    link.href = '#'\r\n    link.title = title\r\n\r\n    /*\r\n     * Will force screen readers like VoiceOver to read this as \"Zoom in - button\"\r\n     */\r\n    link.setAttribute('role', 'button')\r\n    link.setAttribute('aria-label', title)\r\n\r\n    L.DomEvent.disableClickPropagation(link)\r\n    L.DomEvent.on(link, 'click', fn, this)\r\n\r\n    return link\r\n  },\r\n\r\n  _createInfo: function (title, info, className, container) {\r\n    let infoContainer = L.DomUtil.create('div', 'info-container', container)\r\n    let infoTitle = L.DomUtil.create('span', 'info-title', infoContainer)\r\n    infoTitle.innerHTML = title\r\n    let infoEle = L.DomUtil.create('span', className, infoContainer)\r\n    infoEle.innerHTML = info\r\n    return infoEle\r\n  },\r\n\r\n  _createSlider: function (className, container, fn) {\r\n    let sliderEle = L.DomUtil.create('input', className, container)\r\n    sliderEle.setAttribute('type', 'range')\r\n    sliderEle.setAttribute('min', this.trackPlayBack.getStartTime())\r\n    sliderEle.setAttribute('max', this.trackPlayBack.getEndTime())\r\n    sliderEle.setAttribute('value', this.trackPlayBack.getCurTime())\r\n\r\n    L.DomEvent.on(sliderEle, 'click mousedown dbclick', L.DomEvent.stopPropagation)\r\n      .on(sliderEle, 'click', L.DomEvent.preventDefault)\r\n      .on(sliderEle, 'change', fn, this)\r\n      .on(sliderEle, 'mousemove', fn, this)\r\n\r\n    return sliderEle\r\n  },\r\n\r\n  _showTrackPoint (e) {\r\n    if (e.target.checked) {\r\n      this.trackPlayBack.showTrackPoint()\r\n    } else {\r\n      this.trackPlayBack.hideTrackPoint()\r\n    }\r\n  },\r\n\r\n  _showTrackLine (e) {\r\n    if (e.target.checked) {\r\n      this.trackPlayBack.showTrackLine()\r\n    } else {\r\n      this.trackPlayBack.hideTrackLine()\r\n    }\r\n  },\r\n\r\n  _play: function () {\r\n    let hasClass = L.DomUtil.hasClass(this._playBtn, 'btn-stop')\r\n    if (hasClass) {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-stop')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-start')\r\n      this._playBtn.setAttribute('title', 'stop')\r\n      this.trackPlayBack.start()\r\n    } else {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\r\n      this._playBtn.setAttribute('title', 'play')\r\n      this.trackPlayBack.stop()\r\n    }\r\n  },\r\n\r\n  _restart: function () {\r\n    // 播放开始改变播放按钮样式\r\n    L.DomUtil.removeClass(this._playBtn, 'btn-stop')\r\n    L.DomUtil.addClass(this._playBtn, 'btn-start')\r\n    this._playBtn.setAttribute('title', 'stop')\r\n    this.trackPlayBack.rePlaying()\r\n  },\r\n\r\n  _slow: function () {\r\n    this.trackPlayBack.slowSpeed()\r\n    let sp = this.trackPlayBack.getSpeed()\r\n    this._infoSpeedRatio.innerHTML = `X${sp}`\r\n  },\r\n\r\n  _quick: function () {\r\n    this.trackPlayBack.quickSpeed()\r\n    let sp = this.trackPlayBack.getSpeed()\r\n    this._infoSpeedRatio.innerHTML = `X${sp}`\r\n  },\r\n\r\n  _close: function () {\r\n    L.DomUtil.remove(this._container)\r\n    if (this.onRemove) {\r\n      this.onRemove(this._map)\r\n    }\r\n    return this\r\n  },\r\n\r\n  _scrollchange: function (e) {\r\n    let val = Number(e.target.value)\r\n    this.trackPlayBack.setCursor(val)\r\n  },\r\n\r\n  _tickCallback: function (e) {\r\n    // 更新时间\r\n    let time = this.getTimeStrFromUnix(e.time)\r\n    this._infoCurTime.innerHTML = time\r\n    // 更新时间轴\r\n    this._slider.value = e.time\r\n    // 播放结束后改变播放按钮样式\r\n    if (e.time >= this.trackPlayBack.getEndTime()) {\r\n      L.DomUtil.removeClass(this._playBtn, 'btn-start')\r\n      L.DomUtil.addClass(this._playBtn, 'btn-stop')\r\n      this._playBtn.setAttribute('title', 'play')\r\n      this.trackPlayBack.stop()\r\n    }\r\n  }\r\n})\r\n\r\nexport const trackplaybackcontrol = function (trackplayback, options) {\r\n  return new TrackPlayBackControl(trackplayback, options)\r\n}\r\n","import L from 'leaflet'\r\nimport {\r\n  TrackPlayBackControl,\r\n  trackplaybackcontrol\r\n} from './control.playback'\r\n\r\nL.TrackPlayBackControl = TrackPlayBackControl\r\nL.trackplaybackcontrol = trackplaybackcontrol\r\n"],"names":["root","factory","exports","module","require","define","amd","a","i","self","__WEBPACK_EXTERNAL_MODULE__953__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","TrackPlayBackControl","options","position","showOptions","showInfo","showSlider","autoPlay","initialize","trackplayback","this","trackPlayBack","on","_tickCallback","onAdd","map","_initContainer","_container","onRemove","dispose","off","getTimeStrFromUnix","time","accuracy","parseInt","ret","newDate","Date","year","getFullYear","month","getMonth","day","getDate","hours","getHours","minuts","getMinutes","seconds","getSeconds","_optionsContainer","_createContainer","_buttonContainer","_infoContainer","_sliderContainer","_pointCbx","_createCheckbox","_showTrackPoint","_lineCbx","_showTrackLine","_playBtn","_createButton","_play","_restartBtn","_restart","_slowSpeedBtn","_slow","_quickSpeedBtn","_quick","_closeBtn","_close","_infoStartTime","_createInfo","getStartTime","_infoEndTime","getEndTime","_infoCurTime","getCurTime","_infoSpeedRatio","getSpeed","_slider","_createSlider","_scrollchange","className","container","labelName","fn","divEle","inputEle","inputId","setAttribute","labelEle","innerHTML","title","link","href","info","infoContainer","infoEle","sliderEle","e","target","checked","showTrackPoint","hideTrackPoint","showTrackLine","hideTrackLine","start","stop","rePlaying","slowSpeed","sp","quickSpeed","_map","val","Number","setCursor"],"sourceRoot":""}