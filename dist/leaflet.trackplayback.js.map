{"version":3,"file":"leaflet.trackplayback.js","mappings":"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","sources":["webpack://leaflet-plugin-trackplayback/webpack/universalModuleDefinition","webpack://leaflet-plugin-trackplayback/external umd {\"root\":\"L\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\",\"amd\":\"leaflet\"}","webpack://leaflet-plugin-trackplayback/webpack/bootstrap","webpack://leaflet-plugin-trackplayback/webpack/runtime/compat get default export","webpack://leaflet-plugin-trackplayback/webpack/runtime/define property getters","webpack://leaflet-plugin-trackplayback/webpack/runtime/hasOwnProperty shorthand","webpack://leaflet-plugin-trackplayback/webpack/runtime/make namespace object","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/util.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/track.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/trackcontroller.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/clock.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/tracklayer.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/draw.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/trackplayback.js","webpack://leaflet-plugin-trackplayback/./src/leaflet.trackplayback/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"leaflet\")) : factory(root[\"L\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, (__WEBPACK_EXTERNAL_MODULE__953__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__953__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export function isArray (arr) {\r\n  return Array.isArray ? Array.isArray(arr) : Object.prototype.toString.call(arr) === '[object Array]'\r\n}\r\n","import L from 'leaflet'\r\n\r\nimport {\r\n  isArray\r\n} from './util'\r\n\r\n/**\r\n * 轨迹类\r\n */\r\nexport const Track = L.Class.extend({\r\n\r\n  initialize: function (trackData = [], options) {\r\n    L.setOptions(this, options)\r\n\r\n    trackData.forEach(item => {\r\n      // 添加 isOrigin 字段用来标识是否是原始采样点，与插值点区分开\r\n      item.isOrigin = true\r\n    })\r\n    this._trackPoints = trackData\r\n    this._timeTick = {}\r\n    this._update()\r\n  },\r\n\r\n  addTrackPoint: function (trackPoint) {\r\n    if (isArray(trackPoint)) {\r\n      for (let i = 0, len = trackPoint.length; i < len; i++) {\r\n        this.addTrackPoint(trackPoint[i])\r\n      }\r\n    }\r\n    this._addTrackPoint(trackPoint)\r\n  },\r\n\r\n  getTimes: function () {\r\n    let times = []\r\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\r\n      times.push(this._trackPoints[i].time)\r\n    }\r\n    return times\r\n  },\r\n\r\n  getStartTrackPoint: function () {\r\n    return this._trackPoints[0]\r\n  },\r\n\r\n  getEndTrackPoint: function () {\r\n    return this._trackPoints[this._trackPoints.length - 1]\r\n  },\r\n\r\n  getTrackPointByTime: function (time) {\r\n    return this._trackPoints[this._timeTick[time]]\r\n  },\r\n\r\n  _getCalculateTrackPointByTime: function (time) {\r\n    // 先判断最后一个点是否为原始点\r\n    let endpoint = this.getTrackPointByTime(time)\r\n    let startPt = this.getStartTrackPoint()\r\n    let endPt = this.getEndTrackPoint()\r\n    let times = this.getTimes()\r\n    if (time < startPt.time || time > endPt.time) return\r\n    let left = 0\r\n    let right = times.length - 1\r\n    let n\r\n    // 处理只有一个点情况\r\n    if (left === right) {\r\n      return endpoint\r\n    }\r\n    // 通过【二分查找】法查出当前时间所在的时间区间\r\n    while (right - left !== 1) {\r\n      n = parseInt((left + right) / 2)\r\n      if (time > times[n]) left = n\r\n      else right = n\r\n    }\r\n\r\n    let t0 = times[left]\r\n    let t1 = times[right]\r\n    let t = time\r\n    let p0 = this.getTrackPointByTime(t0)\r\n    let p1 = this.getTrackPointByTime(t1)\r\n    startPt = L.point(p0.lng, p0.lat)\r\n    endPt = L.point(p1.lng, p1.lat)\r\n    let s = startPt.distanceTo(endPt)\r\n    // 不同时间在同一个点情形\r\n    if (s <= 0) {\r\n      endpoint = p1\r\n      return endpoint\r\n    }\r\n    // 假设目标在两点间做匀速直线运动\r\n    // 求解速度向量，并计算时间 t 目标所在位置\r\n    let v = s / (t1 - t0)\r\n    let sinx = (endPt.y - startPt.y) / s\r\n    let cosx = (endPt.x - startPt.x) / s\r\n    let step = v * (t - t0)\r\n    let x = startPt.x + step * cosx\r\n    let y = startPt.y + step * sinx\r\n    // 求目标的运动方向，0-360度\r\n    let dir = endPt.x >= startPt.x ? (Math.PI * 0.5 - Math.asin(sinx)) * 180 / Math.PI : (Math.PI * 1.5 + Math.asin(sinx)) * 180 / Math.PI\r\n\r\n    if (endpoint) {\r\n      if (endpoint.dir === undefined) {\r\n        endpoint.dir = dir\r\n      }\r\n    } else {\r\n      endpoint = {\r\n        lng: x,\r\n        lat: y,\r\n        dir: endPt.dir || dir,\r\n        isOrigin: false,\r\n        time: time\r\n      }\r\n    }\r\n    return endpoint\r\n  },\r\n\r\n  // 获取某个时间点之前走过的轨迹\r\n  getTrackPointsBeforeTime: function (time) {\r\n    let tpoints = []\r\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\r\n      if (this._trackPoints[i].time < time) {\r\n        tpoints.push(this._trackPoints[i])\r\n      }\r\n    }\r\n    // 获取最后一个点，根据时间线性插值而来\r\n    let endPt = this._getCalculateTrackPointByTime(time)\r\n    if (endPt) {\r\n      tpoints.push(endPt)\r\n    }\r\n    return tpoints\r\n  },\r\n\r\n  _addTrackPoint: function (trackPoint) {\r\n    trackPoint.isOrigin = true\r\n    this._trackPoints.push(trackPoint)\r\n    this._update()\r\n  },\r\n\r\n  _update: function () {\r\n    this._sortTrackPointsByTime()\r\n    this._updatetimeTick()\r\n  },\r\n\r\n  // 轨迹点按时间排序 【冒泡排序】\r\n  _sortTrackPointsByTime: function () {\r\n    let len = this._trackPoints.length\r\n    for (let i = 0; i < len; i++) {\r\n      for (let j = 0; j < len - 1 - i; j++) {\r\n        if (this._trackPoints[j].time > this._trackPoints[j + 1].time) {\r\n          let tmp = this._trackPoints[j + 1]\r\n          this._trackPoints[j + 1] = this._trackPoints[j]\r\n          this._trackPoints[j] = tmp\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  // 为轨迹点建立时间索引，优化查找性能\r\n  _updatetimeTick: function () {\r\n    this._timeTick = {}\r\n    for (let i = 0, len = this._trackPoints.length; i < len; i++) {\r\n      this._timeTick[this._trackPoints[i].time] = i\r\n    }\r\n  }\r\n})\r\n\r\nexport const track = function (trackData, options) {\r\n  return new Track(trackData, options)\r\n}\r\n","import L from 'leaflet'\r\n\r\nimport {\r\n  isArray\r\n} from './util'\r\nimport {\r\n  Track\r\n} from './track'\r\n\r\n/**\r\n * 控制器类\r\n * 控制轨迹和绘制\r\n */\r\nexport const TrackController = L.Class.extend({\r\n\r\n  initialize: function (tracks = [], draw, options) {\r\n    L.setOptions(this, options)\r\n\r\n    this._tracks = []\r\n    this.addTrack(tracks)\r\n\r\n    this._draw = draw\r\n\r\n    this._updateTime()\r\n  },\r\n\r\n  getMinTime: function () {\r\n    return this._minTime\r\n  },\r\n\r\n  getMaxTime: function () {\r\n    return this._maxTime\r\n  },\r\n\r\n  addTrack: function (track) {\r\n    if (isArray(track)) {\r\n      for (let i = 0, len = track.length; i < len; i++) {\r\n        this.addTrack(track[i])\r\n      }\r\n    } else if (track instanceof Track) {\r\n      this._tracks.push(track)\r\n      this._updateTime()\r\n    } else {\r\n      throw new Error('tracks must be an instance of `Track` or an array of `Track` instance!')\r\n    }\r\n  },\r\n\r\n  drawTracksByTime: function (time) {\r\n    this._draw.clear()\r\n    for (let i = 0, len = this._tracks.length; i < len; i++) {\r\n      let track = this._tracks[i]\r\n      let tps = track.getTrackPointsBeforeTime(time)\r\n      if (tps && tps.length) this._draw.drawTrack(tps)\r\n    }\r\n  },\r\n\r\n  _updateTime: function () {\r\n    this._minTime = this._tracks[0].getStartTrackPoint().time\r\n    this._maxTime = this._tracks[0].getEndTrackPoint().time\r\n    for (let i = 0, len = this._tracks.length; i < len; i++) {\r\n      let stime = this._tracks[i].getStartTrackPoint().time\r\n      let etime = this._tracks[i].getEndTrackPoint().time\r\n      if (stime < this._minTime) {\r\n        this._minTime = stime\r\n      }\r\n      if (etime > this._maxTime) {\r\n        this._maxTime = etime\r\n      }\r\n    }\r\n  }\r\n\r\n})\r\n\r\nexport const trackController = function (tracks, draw, options) {\r\n  return new TrackController(tracks, draw, options)\r\n}\r\n","import L from 'leaflet'\r\n/**\r\n * 时钟类，控制轨迹播放动画\r\n */\r\nexport const Clock = L.Class.extend({\r\n\r\n  includes: L.Evented.prototype || L.Mixin.Events,\r\n\r\n  options: {\r\n    // 播放速度\r\n    // 计算方法 fpstime * Math.pow(2, this._speed - 1)\r\n    speed: 1,\r\n    // 最大播放速度\r\n    maxSpeed: 65\r\n  },\r\n\r\n  initialize: function (trackController, options) {\r\n    L.setOptions(this, options)\r\n\r\n    this._trackController = trackController\r\n    this._endTime = this._trackController.getMaxTime()\r\n    this._curTime = this._trackController.getMinTime()\r\n    this._speed = this.options.speed\r\n    this._maxSpeed = this.options.maxSpeed\r\n    this._intervalID = null\r\n    this._lastFpsUpdateTime = 0\r\n  },\r\n\r\n  start: function () {\r\n    if (this._intervalID) return\r\n    this._intervalID = L.Util.requestAnimFrame(this._tick, this)\r\n  },\r\n\r\n  stop: function () {\r\n    if (!this._intervalID) return\r\n    L.Util.cancelAnimFrame(this._intervalID)\r\n    this._intervalID = null\r\n    this._lastFpsUpdateTime = 0\r\n  },\r\n\r\n  rePlaying: function () {\r\n    this.stop()\r\n    this._curTime = this._trackController.getMinTime()\r\n    this.start()\r\n  },\r\n\r\n  slowSpeed: function () {\r\n    this._speed = this._speed <= 1 ? this._speed : this._speed - 1\r\n    if (this._intervalID) {\r\n      this.stop()\r\n      this.start()\r\n    }\r\n  },\r\n\r\n  quickSpeed: function () {\r\n    this._speed = this._speed >= this._maxSpeed ? this._speed : this._speed + 1\r\n    if (this._intervalID) {\r\n      this.stop()\r\n      this.start()\r\n    }\r\n  },\r\n\r\n  getSpeed: function () {\r\n    return this._speed\r\n  },\r\n\r\n  getCurTime: function () {\r\n    return this._curTime\r\n  },\r\n\r\n  getStartTime: function () {\r\n    return this._trackController.getMinTime()\r\n  },\r\n\r\n  getEndTime: function () {\r\n    return this._trackController.getMaxTime()\r\n  },\r\n\r\n  isPlaying: function () {\r\n    return !!this._intervalID\r\n  },\r\n\r\n  setCursor: function (time) {\r\n    this._curTime = time\r\n    this._trackController.drawTracksByTime(this._curTime)\r\n    this.fire('tick', {\r\n      time: this._curTime\r\n    })\r\n  },\r\n\r\n  setSpeed: function (speed) {\r\n    this._speed = speed\r\n    if (this._intervalID) {\r\n      this.stop()\r\n      this.start()\r\n    }\r\n  },\r\n\r\n  // 计算两帧时间间隔，单位：秒\r\n  _caculatefpsTime: function (now) {\r\n    let time\r\n    if (this._lastFpsUpdateTime === 0) {\r\n      time = 0\r\n    } else {\r\n      time = now - this._lastFpsUpdateTime\r\n    }\r\n    this._lastFpsUpdateTime = now\r\n    // 将毫秒转换成秒\r\n    time = time / 1000\r\n    return time\r\n  },\r\n\r\n  _tick: function () {\r\n    let now = +new Date()\r\n    let fpstime = this._caculatefpsTime(now)\r\n    let isPause = false\r\n    let stepTime = fpstime * Math.pow(2, this._speed - 1)\r\n    this._curTime += stepTime\r\n    if (this._curTime >= this._endTime) {\r\n      this._curTime = this._endTime\r\n      isPause = true\r\n    }\r\n    this._trackController.drawTracksByTime(this._curTime)\r\n    this.fire('tick', {\r\n      time: this._curTime\r\n    })\r\n    if (!isPause) this._intervalID = L.Util.requestAnimFrame(this._tick, this)\r\n  }\r\n})\r\n\r\nexport const clock = function (trackController, options) {\r\n  return new Clock(trackController, options)\r\n}\r\n","import L from 'leaflet'\r\n\r\n/**\r\n * 轨迹图层\r\n */\r\nexport const TrackLayer = L.Renderer.extend({\r\n\r\n  initialize: function (options) {\r\n    L.Renderer.prototype.initialize.call(this, options)\r\n    this.options.padding = 0.1\r\n  },\r\n\r\n  onAdd: function (map) {\r\n    this._container = L.DomUtil.create('canvas', 'leaflet-zoom-animated')\r\n\r\n    var pane = map.getPane(this.options.pane)\r\n    pane.appendChild(this._container)\r\n\r\n    this._ctx = this._container.getContext('2d')\r\n\r\n    this._update()\r\n  },\r\n\r\n  onRemove: function (map) {\r\n    L.DomUtil.remove(this._container)\r\n  },\r\n\r\n  getContainer: function () {\r\n    return this._container\r\n  },\r\n\r\n  getBounds: function () {\r\n    return this._bounds\r\n  },\r\n\r\n  _update: function () {\r\n    if (this._map._animatingZoom && this._bounds) {\r\n      return\r\n    }\r\n\r\n    L.Renderer.prototype._update.call(this)\r\n\r\n    var b = this._bounds\r\n\r\n    var container = this._container\r\n\r\n    var size = b.getSize()\r\n\r\n    var m = L.Browser.retina ? 2 : 1\r\n\r\n    L.DomUtil.setPosition(container, b.min)\r\n\r\n    // set canvas size (also clearing it); use double size on retina\r\n    container.width = m * size.x\r\n    container.height = m * size.y\r\n    container.style.width = size.x + 'px'\r\n    container.style.height = size.y + 'px'\r\n\r\n    if (L.Browser.retina) {\r\n      this._ctx.scale(2, 2)\r\n    }\r\n\r\n    // translate so we use the same path coordinates after canvas element moves\r\n    this._ctx.translate(-b.min.x, -b.min.y)\r\n\r\n    // Tell paths to redraw themselves\r\n    this.fire('update')\r\n  }\r\n})\r\n","import L from 'leaflet'\r\n\r\nimport {\r\n  TrackLayer\r\n} from './tracklayer'\r\n\r\n/**\r\n * 绘制类\r\n * 完成轨迹线、轨迹点、目标物的绘制工作\r\n */\r\nexport const Draw = L.Class.extend({\r\n\r\n  trackPointOptions: {\r\n    isDraw: false,\r\n    useCanvas: true,\r\n    stroke: false,\r\n    color: '#ef0300',\r\n    fill: true,\r\n    fillColor: '#ef0300',\r\n    opacity: 0.3,\r\n    radius: 4\r\n  },\r\n  trackLineOptions: {\r\n    isDraw: false,\r\n    stroke: true,\r\n    color: '#1C54E2', // stroke color\r\n    weight: 2,\r\n    fill: false,\r\n    fillColor: '#000',\r\n    opacity: 0.3\r\n  },\r\n  targetOptions: {\r\n    useImg: false,\r\n    imgUrl: '../../static/images/ship.png',\r\n    showText: false,\r\n    width: 8,\r\n    height: 18,\r\n    color: '#00f', // stroke color\r\n    fillColor: '#9FD12D'\r\n  },\r\n  toolTipOptions: {\r\n    offset: [0, 0],\r\n    direction: 'top',\r\n    permanent: false\r\n  },\r\n\r\n  initialize: function (map, options) {\r\n    L.extend(this.trackPointOptions, options.trackPointOptions)\r\n    L.extend(this.trackLineOptions, options.trackLineOptions)\r\n    L.extend(this.targetOptions, options.targetOptions)\r\n    L.extend(this.toolTipOptions, options.toolTipOptions)\r\n\r\n    this._showTrackPoint = this.trackPointOptions.isDraw\r\n    this._showTrackLine = this.trackLineOptions.isDraw\r\n\r\n    this._map = map\r\n    this._map.on('mousemove', this._onmousemoveEvt, this)\r\n\r\n    this._trackLayer = new TrackLayer().addTo(map)\r\n    this._trackLayer.on('update', this._trackLayerUpdate, this)\r\n\r\n    this._canvas = this._trackLayer.getContainer()\r\n    this._ctx = this._canvas.getContext('2d')\r\n\r\n    this._bufferTracks = []\r\n\r\n    if (!this.trackPointOptions.useCanvas) {\r\n      this._trackPointFeatureGroup = L.featureGroup([]).addTo(map)\r\n    }\r\n\r\n    // 目标如果使用图片，先加载图片\r\n    if (this.targetOptions.useImg) {\r\n      const img = new Image()\r\n      img.onload = () => {\r\n        this._targetImg = img\r\n      }\r\n      img.onerror = () => {\r\n        throw new Error('img load error!')\r\n      }\r\n      img.src = this.targetOptions.imgUrl\r\n    }\r\n  },\r\n\r\n  update: function () {\r\n    this._trackLayerUpdate()\r\n  },\r\n\r\n  drawTrack: function (trackpoints) {\r\n    this._bufferTracks.push(trackpoints)\r\n    this._drawTrack(trackpoints)\r\n  },\r\n\r\n  showTrackPoint: function () {\r\n    this._showTrackPoint = true\r\n    this.update()\r\n  },\r\n\r\n  hideTrackPoint: function () {\r\n    this._showTrackPoint = false\r\n    this.update()\r\n  },\r\n\r\n  showTrackLine: function () {\r\n    this._showTrackLine = true\r\n    this.update()\r\n  },\r\n\r\n  hideTrackLine: function () {\r\n    this._showTrackLine = false\r\n    this.update()\r\n  },\r\n\r\n  remove: function () {\r\n    this._bufferTracks = []\r\n    this._trackLayer.off('update', this._trackLayerUpdate, this)\r\n    this._map.off('mousemove', this._onmousemoveEvt, this)\r\n    if (this._map.hasLayer(this._trackLayer)) {\r\n      this._map.removeLayer(this._trackLayer)\r\n    }\r\n    if (this._map.hasLayer(this._trackPointFeatureGroup)) {\r\n      this._map.removeLayer(this._trackPointFeatureGroup)\r\n    }\r\n  },\r\n\r\n  clear: function () {\r\n    this._clearLayer()\r\n    this._bufferTracks = []\r\n  },\r\n\r\n  _trackLayerUpdate: function () {\r\n    if (this._bufferTracks.length) {\r\n      this._clearLayer()\r\n      this._bufferTracks.forEach(function (element, index) {\r\n        this._drawTrack(element)\r\n      }.bind(this))\r\n    }\r\n  },\r\n\r\n  _onmousemoveEvt: function (e) {\r\n    if (!this._showTrackPoint) {\r\n      return\r\n    }\r\n    let point = e.layerPoint\r\n    if (this._bufferTracks.length) {\r\n      for (let i = 0, leni = this._bufferTracks.length; i < leni; i++) {\r\n        for (let j = 0, len = this._bufferTracks[i].length; j < len; j++) {\r\n          let tpoint = this._getLayerPoint(this._bufferTracks[i][j])\r\n          if (point.distanceTo(tpoint) <= this.trackPointOptions.radius) {\r\n            this._opentoolTip(this._bufferTracks[i][j])\r\n            return\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (this._map.hasLayer(this._tooltip)) {\r\n      this._map.removeLayer(this._tooltip)\r\n    }\r\n    this._canvas.style.cursor = 'pointer'\r\n  },\r\n\r\n  _opentoolTip: function (trackpoint) {\r\n    if (this._map.hasLayer(this._tooltip)) {\r\n      this._map.removeLayer(this._tooltip)\r\n    }\r\n    this._canvas.style.cursor = 'default'\r\n    let latlng = L.latLng(trackpoint.lat, trackpoint.lng)\r\n    let tooltip = this._tooltip = L.tooltip(this.toolTipOptions)\r\n    tooltip.setLatLng(latlng)\r\n    tooltip.addTo(this._map)\r\n    tooltip.setContent(this._getTooltipText(trackpoint))\r\n  },\r\n\r\n  _drawTrack: function (trackpoints) {\r\n    // 画轨迹线\r\n    if (this._showTrackLine) {\r\n      this._drawTrackLine(trackpoints)\r\n    }\r\n    // 画船\r\n    let targetPoint = trackpoints[trackpoints.length - 1]\r\n    if (this.targetOptions.useImg && this._targetImg) {\r\n      this._drawShipImage(targetPoint)\r\n    } else {\r\n      this._drawShipCanvas(targetPoint)\r\n    }\r\n    // 画标注信息\r\n    if (this.targetOptions.showText) {\r\n      this._drawtxt(`航向：${parseInt(targetPoint.dir)}度`, targetPoint)\r\n    }\r\n    // 画经过的轨迹点\r\n    if (this._showTrackPoint) {\r\n      if (this.trackPointOptions.useCanvas) {\r\n        this._drawTrackPointsCanvas(trackpoints)\r\n      } else {\r\n        this._drawTrackPointsSvg(trackpoints)\r\n      }\r\n    }\r\n  },\r\n\r\n  _drawTrackLine: function (trackpoints) {\r\n    let options = this.trackLineOptions\r\n    let tp0 = this._getLayerPoint(trackpoints[0])\r\n    this._ctx.save()\r\n    this._ctx.beginPath()\r\n    // 画轨迹线\r\n    this._ctx.moveTo(tp0.x, tp0.y)\r\n    for (let i = 1, len = trackpoints.length; i < len; i++) {\r\n      let tpi = this._getLayerPoint(trackpoints[i])\r\n      this._ctx.lineTo(tpi.x, tpi.y)\r\n    }\r\n    this._ctx.globalAlpha = options.opacity\r\n    if (options.stroke) {\r\n      this._ctx.strokeStyle = options.color\r\n      this._ctx.lineWidth = options.weight\r\n      this._ctx.stroke()\r\n    }\r\n    if (options.fill) {\r\n      this._ctx.fillStyle = options.fillColor\r\n      this._ctx.fill()\r\n    }\r\n    this._ctx.restore()\r\n  },\r\n\r\n  _drawTrackPointsCanvas: function (trackpoints) {\r\n    let options = this.trackPointOptions\r\n    this._ctx.save()\r\n    for (let i = 0, len = trackpoints.length; i < len; i++) {\r\n      if (trackpoints[i].isOrigin) {\r\n        let latLng = L.latLng(trackpoints[i].lat, trackpoints[i].lng)\r\n        let radius = options.radius\r\n        let point = this._map.latLngToLayerPoint(latLng)\r\n        this._ctx.beginPath()\r\n        this._ctx.arc(point.x, point.y, radius, 0, Math.PI * 2, false)\r\n        this._ctx.globalAlpha = options.opacity\r\n        if (options.stroke) {\r\n          this._ctx.strokeStyle = options.color\r\n          this._ctx.stroke()\r\n        }\r\n        if (options.fill) {\r\n          this._ctx.fillStyle = options.fillColor\r\n          this._ctx.fill()\r\n        }\r\n      }\r\n    }\r\n    this._ctx.restore()\r\n  },\r\n\r\n  _drawTrackPointsSvg: function (trackpoints) {\r\n    for (let i = 0, len = trackpoints.length; i < len; i++) {\r\n      if (trackpoints[i].isOrigin) {\r\n        let latLng = L.latLng(trackpoints[i].lat, trackpoints[i].lng)\r\n        let cricleMarker = L.circleMarker(latLng, this.trackPointOptions)\r\n        cricleMarker.bindTooltip(this._getTooltipText(trackpoints[i]), this.toolTipOptions)\r\n        this._trackPointFeatureGroup.addLayer(cricleMarker)\r\n      }\r\n    }\r\n  },\r\n\r\n  _drawtxt: function (text, trackpoint) {\r\n    let point = this._getLayerPoint(trackpoint)\r\n    this._ctx.save()\r\n    this._ctx.font = '12px Verdana'\r\n    this._ctx.fillStyle = '#000'\r\n    this._ctx.textAlign = 'center'\r\n    this._ctx.textBaseline = 'bottom'\r\n    this._ctx.fillText(text, point.x, point.y - 12, 200)\r\n    this._ctx.restore()\r\n  },\r\n\r\n  _drawShipCanvas: function (trackpoint) {\r\n    let point = this._getLayerPoint(trackpoint)\r\n    let rotate = trackpoint.dir || 0\r\n    let w = this.targetOptions.width\r\n    let h = this.targetOptions.height\r\n    let dh = h / 3\r\n\r\n    this._ctx.save()\r\n    this._ctx.fillStyle = this.targetOptions.fillColor\r\n    this._ctx.strokeStyle = this.targetOptions.color\r\n    this._ctx.translate(point.x, point.y)\r\n    this._ctx.rotate((Math.PI / 180) * rotate)\r\n    this._ctx.beginPath()\r\n    this._ctx.moveTo(0, 0 - h / 2)\r\n    this._ctx.lineTo(0 - w / 2, 0 - h / 2 + dh)\r\n    this._ctx.lineTo(0 - w / 2, 0 + h / 2)\r\n    this._ctx.lineTo(0 + w / 2, 0 + h / 2)\r\n    this._ctx.lineTo(0 + w / 2, 0 - h / 2 + dh)\r\n    this._ctx.closePath()\r\n    this._ctx.fill()\r\n    this._ctx.stroke()\r\n    this._ctx.restore()\r\n  },\r\n\r\n  _drawShipImage: function (trackpoint) {\r\n    let point = this._getLayerPoint(trackpoint)\r\n    let dir = trackpoint.dir || 0\r\n    let width = this.targetOptions.width\r\n    let height = this.targetOptions.height\r\n    let offset = {\r\n      x: width / 2,\r\n      y: height / 2\r\n    }\r\n    this._ctx.save()\r\n    this._ctx.translate(point.x, point.y)\r\n    this._ctx.rotate((Math.PI / 180) * dir)\r\n    this._ctx.drawImage(this._targetImg, 0 - offset.x, 0 - offset.y, width, height)\r\n    this._ctx.restore()\r\n  },\r\n\r\n  _getTooltipText: function (targetobj) {\r\n    let content = []\r\n    content.push('<table>')\r\n    if (targetobj.info && targetobj.info.length) {\r\n      for (let i = 0, len = targetobj.info.length; i < len; i++) {\r\n        content.push('<tr>')\r\n        content.push('<td>' + targetobj.info[i].key + '</td>')\r\n        content.push('<td>' + targetobj.info[i].value + '</td>')\r\n        content.push('</tr>')\r\n      }\r\n    }\r\n    content.push('</table>')\r\n    content = content.join('')\r\n    return content\r\n  },\r\n\r\n  _clearLayer: function () {\r\n    let bounds = this._trackLayer.getBounds()\r\n    if (bounds) {\r\n      let size = bounds.getSize()\r\n      this._ctx.clearRect(bounds.min.x, bounds.min.y, size.x, size.y)\r\n    } else {\r\n      this._ctx.clearRect(0, 0, this._canvas.width, this._canvas.height)\r\n    }\r\n    if (this._map.hasLayer(this._trackPointFeatureGroup)) {\r\n      this._trackPointFeatureGroup.clearLayers()\r\n    }\r\n  },\r\n\r\n  _getLayerPoint (trackpoint) {\r\n    return this._map.latLngToLayerPoint(L.latLng(trackpoint.lat, trackpoint.lng))\r\n  }\r\n})\r\n\r\nexport const draw = function (map, options) {\r\n  return new Draw(map, options)\r\n}\r\n","import L from 'leaflet'\r\n\r\nimport {\r\n  Track\r\n} from './track'\r\nimport {\r\n  TrackController\r\n} from './trackcontroller'\r\nimport {\r\n  Clock\r\n} from './clock'\r\nimport {\r\n  Draw\r\n} from './draw'\r\nimport * as Util from './util'\r\n\r\n/**\r\n * single track data\r\n * [{lat: 30, lng: 116, time: 1502529980, heading: 300, info:[]},{},....]\r\n *\r\n * mutiple track data\r\n * [single track data, single track data, single track data]\r\n */\r\nexport const TrackPlayBack = L.Class.extend({\r\n\r\n  includes: L.Evented.prototype || L.Mixin.Events,\r\n\r\n  initialize: function (data, map, options = {}) {\r\n    let drawOptions = {\r\n      trackPointOptions: options.trackPointOptions,\r\n      trackLineOptions: options.trackLineOptions,\r\n      targetOptions: options.targetOptions,\r\n      toolTipOptions: options.toolTipOptions\r\n    }\r\n    this.tracks = this._initTracks(data)\r\n    this.draw = new Draw(map, drawOptions)\r\n    this.trackController = new TrackController(this.tracks, this.draw)\r\n    this.clock = new Clock(this.trackController, options.clockOptions)\r\n\r\n    this.clock.on('tick', this._tick, this)\r\n  },\r\n  start: function () {\r\n    this.clock.start()\r\n    return this\r\n  },\r\n  stop: function () {\r\n    this.clock.stop()\r\n    return this\r\n  },\r\n  rePlaying: function () {\r\n    this.clock.rePlaying()\r\n    return this\r\n  },\r\n  slowSpeed: function () {\r\n    this.clock.slowSpeed()\r\n    return this\r\n  },\r\n  quickSpeed: function () {\r\n    this.clock.quickSpeed()\r\n    return this\r\n  },\r\n  getSpeed: function () {\r\n    return this.clock.getSpeed()\r\n  },\r\n  getCurTime: function () {\r\n    return this.clock.getCurTime()\r\n  },\r\n  getStartTime: function () {\r\n    return this.clock.getStartTime()\r\n  },\r\n  getEndTime: function () {\r\n    return this.clock.getEndTime()\r\n  },\r\n  isPlaying: function () {\r\n    return this.clock.isPlaying()\r\n  },\r\n  setCursor: function (time) {\r\n    this.clock.setCursor(time)\r\n    return this\r\n  },\r\n  setSpeed: function (speed) {\r\n    this.clock.setSpeed(speed)\r\n    return this\r\n  },\r\n  showTrackPoint: function () {\r\n    this.draw.showTrackPoint()\r\n    return this\r\n  },\r\n  hideTrackPoint: function () {\r\n    this.draw.hideTrackPoint()\r\n    return this\r\n  },\r\n  showTrackLine: function () {\r\n    this.draw.showTrackLine()\r\n    return this\r\n  },\r\n  hideTrackLine: function () {\r\n    this.draw.hideTrackLine()\r\n    return this\r\n  },\r\n  dispose: function () {\r\n    this.clock.off('tick', this._tick)\r\n    this.draw.remove()\r\n    this.tracks = null\r\n    this.draw = null\r\n    this.trackController = null\r\n    this.clock = null\r\n  },\r\n  _tick: function (e) {\r\n    this.fire('tick', e)\r\n  },\r\n  _initTracks: function (data) {\r\n    let tracks = []\r\n    if (Util.isArray(data)) {\r\n      if (Util.isArray(data[0])) {\r\n        // 多条轨迹\r\n        for (let i = 0, len = data.length; i < len; i++) {\r\n          tracks.push(new Track(data[i]))\r\n        }\r\n      } else {\r\n        // 单条轨迹\r\n        tracks.push(new Track(data))\r\n      }\r\n    }\r\n    return tracks\r\n  }\r\n})\r\n\r\nexport const trackplayback = function (data, map, options) {\r\n  return new TrackPlayBack(data, map, options)\r\n}\r\n","import L from 'leaflet'\r\n\r\nimport {\r\n  TrackPlayBack,\r\n  trackplayback\r\n} from './trackplayback'\r\n\r\nL.TrackPlayBack = TrackPlayBack\r\nL.trackplayback = trackplayback\r\n"],"names":["root","factory","exports","module","require","define","amd","a","i","self","__WEBPACK_EXTERNAL_MODULE__953__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","isArray","arr","Array","toString","Track","initialize","trackData","options","this","forEach","item","isOrigin","_trackPoints","_timeTick","_update","addTrackPoint","trackPoint","len","length","_addTrackPoint","getTimes","times","push","time","getStartTrackPoint","getEndTrackPoint","getTrackPointByTime","_getCalculateTrackPointByTime","endpoint","startPt","endPt","left","right","parseInt","t0","t1","t","p0","p1","lng","lat","s","distanceTo","v","sinx","y","cosx","x","step","dir","Math","PI","asin","getTrackPointsBeforeTime","tpoints","_sortTrackPointsByTime","_updatetimeTick","j","tmp","TrackController","tracks","draw","_tracks","addTrack","_draw","_updateTime","getMinTime","_minTime","getMaxTime","_maxTime","track","Error","drawTracksByTime","clear","tps","drawTrack","stime","etime","Clock","includes","speed","maxSpeed","trackController","_trackController","_endTime","_curTime","_speed","_maxSpeed","_intervalID","_lastFpsUpdateTime","start","_tick","stop","rePlaying","slowSpeed","quickSpeed","getSpeed","getCurTime","getStartTime","getEndTime","isPlaying","setCursor","fire","setSpeed","_caculatefpsTime","now","Date","isPause","stepTime","pow","TrackLayer","padding","onAdd","map","_container","getPane","pane","appendChild","_ctx","getContext","onRemove","getContainer","getBounds","_bounds","_map","_animatingZoom","b","container","size","getSize","m","min","width","height","style","scale","translate","Draw","trackPointOptions","isDraw","useCanvas","stroke","color","fill","fillColor","opacity","radius","trackLineOptions","weight","targetOptions","useImg","imgUrl","showText","toolTipOptions","offset","direction","permanent","_showTrackPoint","_showTrackLine","on","_onmousemoveEvt","_trackLayer","addTo","_trackLayerUpdate","_canvas","_bufferTracks","_trackPointFeatureGroup","img","Image","onload","_targetImg","onerror","src","update","trackpoints","_drawTrack","showTrackPoint","hideTrackPoint","showTrackLine","hideTrackLine","remove","off","hasLayer","removeLayer","_clearLayer","element","index","bind","e","point","layerPoint","leni","tpoint","_getLayerPoint","_opentoolTip","_tooltip","cursor","trackpoint","latlng","tooltip","setLatLng","setContent","_getTooltipText","_drawTrackLine","targetPoint","_drawShipImage","_drawShipCanvas","_drawtxt","_drawTrackPointsCanvas","_drawTrackPointsSvg","tp0","save","beginPath","moveTo","tpi","lineTo","globalAlpha","strokeStyle","lineWidth","fillStyle","restore","latLng","latLngToLayerPoint","arc","cricleMarker","bindTooltip","addLayer","text","font","textAlign","textBaseline","fillText","rotate","w","h","dh","closePath","drawImage","targetobj","content","info","join","bounds","clearRect","clearLayers","TrackPlayBack","data","drawOptions","_initTracks","clock","clockOptions","dispose"],"sourceRoot":""}